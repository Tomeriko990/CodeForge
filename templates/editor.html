{% extends "base.html" %}

{% block title %}CodeForge – IDE{% endblock %}

{% block head_scripts %}
  {{ super() }}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs/loader.min.js"></script>
{% endblock %}

{% block style %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/editor.css') }}">
{% endblock %}

{% block content %}
<div id="ide-container">
  <div id="sidebar">
    <button title="Explorer" class="active"><i data-lucide="files"></i></button>
    <button title="Search"><i data-lucide="search"></i></button>
    <button title="Run" onclick="runCode()"><i data-lucide="play"></i></button>
    <button title="Terminal"><i data-lucide="terminal"></i></button>
    <button title="Settings"><i data-lucide="settings"></i></button>
  </div>

  <div id="explorer-container">
    <div id="explorer-header">
      <h4>Explorer</h4>
      <span>
        <button id="fileLoader">Add file</button>
        <input type="file" id="hiddenFileInput" style="display: none;">
      </span>
    </div>
    <div id="file-list"></div>
  </div>

  <div id="main-area">
    <div id="panel-search" class="side-panel">🔍 Search bar (coming soon...)</div>
    <div id="settings-modal" class="modal" style="display: none;">
      <div class="modal-content">
        <h3>⚙️ Settings</h3>
        <p>Settings panel will go here...</p>
        <button onclick="closeSettings()">Close</button>
      </div>
    </div>

    <div id="toolbar">
      <span id="file-name">CodeForge</span>
      <button id="run-button" onclick="runCode()"><i data-lucide="play"></i></button>
    </div>

    <div id="editor"></div>
    <div id="bottom-bar">// Output will appear here...</div>
  </div>
</div>
{% endblock %}

{% block script %}
  {{ super() }}
  <script src="{{ url_for('static', filename='js/editor.js') }}"></script>
{% endblock %}
